---
title: FormController.ts
description: Reference for the FormController class
navigation:
  icon: material-symbols:code
seo:
  <!-- title: Quick Start -->
  <!-- description: Get started with Goodie Forms core, a headless TypeScript form state and data management library. Learn how to install, register fields, add validation, and handle form submission with full control. -->
---

## Overview

`FormController<TOutput>` is the core engine of Goodie Forms.
It acts as a headless, type-safe form state manager responsible for handling data, validation, field registration, submission flow, and lifecycle events â€” without imposing any UI constraints.

Designed to be framework-agnostic, FormController manages the complete lifecycle of a form while giving you full control over rendering and DOM integration.

#### âš™ Generics

1. `TOutput` represents the **final validated shape** of your form data.
   It defines the full object structure that the form is expected to produce after successful validation and submission.

---

## Fields

### ðŸ“˜ `this.data`

<div style="margin-left:22px;margin-bottom:80px">

Returns an immutable version of current **form data**.

**Type**: `DeepReadonly<DeepPartial<TOutput>>`

</div>

### ðŸ“˜ `this.initialData`

<div style="margin-left:22px;margin-bottom:80px">

Returns an immutable version of **initial form data**.

**Type**: `DeepReadonly<DeepPartial<TOutput>>`

</div>

### ðŸ“˜ `this.issues`

<div style="margin-left:22px;margin-bottom:80px">

Returns an immutable list of current issues.

**Type**: `readonly StandardSchemaV1.Issue[]`

</div>

### ðŸ“˜ `this.path`

<div style="margin-left:22px;margin-bottom:80px">

A very handy helper to build paths off of `TOutput`

**Type**: `FieldPathBuilder<TOutput>`

#### Examples
```ts
formController.path.of("username");
```
```ts
formController.path.of("address.city");
```
```ts
formController.path.of("friends[42].name");
```

</div>

### ðŸ“˜ `this.isDirty`

<div style="margin-left:22px;margin-bottom:80px">

Returns whether there exists a registered field that is dirty.

**Type**: `boolean`

</div>

### ðŸ“˜ `this.isValid`

<div style="margin-left:22px;margin-bottom:80px">

Returns whether none of the registered fields have an issue.

**Type**: `boolean`

</div>

### ðŸ“˜ `this.isValidating`

<div style="margin-left:22px;margin-bottom:80px">

Returns whether controller is currently validating or not.

**Type**: `boolean`

</div>

### ðŸ“˜ `this.isSubmitting`

<div style="margin-left:22px;margin-bottom:80px">

Returns whether controller is currently submitting or not.

**Type**: `boolean`

</div>

### ðŸ“˜ `this.triedSubmitting`

<div style="margin-left:22px;margin-bottom:80px">

Returns whether controller has tried to submit before.
<br/>
This value is set to `true` at the very first submission trial.

**Type**: `boolean`

</div>

---

## Methods

### ðŸ“™ `Constructor`

<div style="margin-left:22px;margin-bottom:80px">

Constructs a new `FormController<TOutput>`.
<br/>
â”” `TOutput`: output shape of the FormController

#### Constructor Args

::field-group
:::field{name="config.validationSchema?:" type="StandardSchemaV1"}
If present, the controller will use this schema to perform validations.
:::
:::field{name="config.initialData?:" type="DeepPartial<TOutput>"}
A deeply partial version of `TOutput`. If present, form will use these values as initial.
:::
:::field{name="config.equalityComparators?:" type="Map<any, (a: any, b: any) => boolean>"}
A lookup for custom equality comparators. It is used to determine if a data value is dirty, by comparing to the corresponding initialData value.
:::
::

#### Examples

```ts
const formController = new FormController<User>({});
// ^ TOutput can be explicitly declared
```

```ts
const formController = new FormController({
  validationSchema: UserSchema, // <-- TOutput can also be infered from the schema
});
```

```ts
const formController = new FormController({
  validationSchema: UserSchema,
  initialData: { username: "" },
});
```

```ts
class Address { ... }

const formController = new FormController({
  // You can impl a custom comparison strategy for classes
  equalityComparators: new Map([
    [Address, (a: Address, b: Address) => a.equals(b)]
  ])
});
```

</div>

### ðŸ“™ `registerField()`

<div style="margin-left:22px;margin-bottom:80px">

Creates a new `FormField` sitting at given `TPath`, registers it to this controller and returns.

#### Signature

```ts
declare function registerField<TPath extends FieldPath.Segments>(
  path: TPath,
  config?: {
    defaultValue?: Suppliable<FieldPath.Resolve<TOutput, TPath>>;
    overrideInitialValue?: boolean;
  },
): FormField<TOutput, FieldPath.Resolve<TOutput, TPath>>;
```

#### Returns

Field created and registered to the controller:

`FormField<TOutput, FieldPath.Resolve<TOutput, TPath>>`
<br/>
â”œ `TOutput`: output shape of the FormController
<br/>
â”œ `TPath`: object path of the field
<br/>
â”” `FieldPath.Resolve<TOutput, TPath>`: value type of **TOutput** at given **TPath**

#### Arguments

::field-group
:::field{name="path!" type="TPath extends FieldPath.Segments"}
Represents where this field is supposed to sit at `TOutput`.
Used while modifying, reading and validating the value of this field.
:::
:::field{name="config.defaultValue?:" type="Suppliable<FieldPath.Resolve<TOutput, TPath>>"}
If present, it will be used to set value of `this.data` at `TPath` when current value is `null | undefined`.
:::
:::field{name="config.overrideInitialValue?:" type="boolean"}
If `true`, value of `this.initialData` at `TPath` will also change with `defaultValue` when current value is `null | undefined`.
:::
::

#### Examples

```ts
const path = formController.path.of("username");
const field = formController.registerField(path);
// formController will now have "username" field registered
```

```ts
const path = formController.path.of("email");
const field = formController.registerField(path, {
  defaultValue: "john@doe.com",
});
console.log(field.value); // <-- "john@doe.com"
console.log(field.isDirty); // <-- true
```

```ts
const path = formController.path.of("email");
const field = formController.registerField(path, {
  defaultValue: "john@doe.com",
  overrideInitialValue: true,
});
console.log(field.value); // <-- "john@doe.com"
console.log(field.isDirty); // <-- false
```

</div>

### ðŸ“™ `unregisterField()`

<div style="margin-left:22px;margin-bottom:80px">

Unregisters a `FormField` from the controller.
If no field is registered at given path, this method will do nothing effectively.

#### Signature

```ts
declare function unregisterField(path: FieldPath.Segments): boolean;
```

#### Returns

Whether a field was unregistered, or not:

`boolean`

#### Arguments

::field-group
:::field{name="path!" type="FieldPath.Segments"}
Path of the field to unregister.
:::
::

#### Examples

```ts
const path = formController.path.of("username");
formController.unregisterField(path);
```

```ts
const path = formController.path.of("username");
const field = formController.registerField(path);
formController.unregisterField(field.path); // <-- true
```

</div>

### ðŸ“™ `getField()`

#### Examples

---

## Guides

### ðŸ“š How to blabla?

### ðŸ“š How to blabla?
